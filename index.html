<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Analysis Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Live Video Feed Section -->
        <div class="camera-container">
            <iframe id="videoIframe" src="http://172.20.10.12:8080" frameborder="0" width="100%" height="100%"></iframe>
            <div class="overlay">CAMERA 1 - LIVE FEED</div>
        </div>

        <!-- Input Forms -->
        <div class="form-container">
            <!-- Video Path Form -->
            <h2>Submit Video Path</h2>
            <input type="text" id="videoPath" placeholder="Enter RTSP or HTTP Video Path">
            <button onclick="submitVideoPath()">Submit Video Path</button>

            <!-- Describe Image Form -->
            <h2>Describe Image</h2>
            <input type="file" id="imageInput" accept="image/*">
            <button onclick="submitImage()">Submit Image</button>

            <!-- Section to display the image description -->
            <div id="imageDescription" style="margin-top: 20px;"></div>

            <!-- Insert Person Form -->
            <h2>Insert Person</h2>
            <input type="text" id="personName" placeholder="Enter Person Name">
            <input type="file" id="personImage" accept="image/*">
            <button onclick="insertPerson()">Insert Person</button>

            <!-- Perform Face Recognition Form -->
            <h2>Perform Face Recognition</h2>
            <input type="text" id="recognitionName" placeholder="Enter Name for Recognition">
            <button onclick="performFaceRecognition()">Perform Face Recognition</button>

            <!-- Distribution Data Requests -->
            <h1>Analysis</h1>

            <!-- Emotion Distribution Form -->
            <h3>Emotion Distribution</h3>
            <input type="text" id="emotionYear" placeholder="Year (e.g., 2024)">
            <input type="text" id="emotionMonth" placeholder="Month (e.g., 8)">
            <input type="text" id="emotionDay" placeholder="Day (e.g., 2024-08-19)">
            <button onclick="submitEmotionDistribution()">Get Emotion Distribution</button>
            <pre id="emotionResult"></pre>
            <canvas id="emotionChart"></canvas>

            <!-- Age Distribution Form -->
            <h3>Age Distribution</h3>
            <input type="text" id="ageYear" placeholder="Year (e.g., 2024)">
            <input type="text" id="ageMonth" placeholder="Month (e.g., 8)">
            <input type="text" id="ageDay" placeholder="Day (e.g., 2024-08-19)">
            <button onclick="submitAgeDistribution()">Get Age Distribution</button>
            <pre id="ageResult"></pre>
            <canvas id="ageChart"></canvas>

            <!-- Gender Distribution Form -->
            <h3>Gender Distribution</h3>
            <input type="text" id="genderYear" placeholder="Year (e.g., 2024)">
            <input type="text" id="genderMonth" placeholder="Month (e.g., 8)">
            <input type="text" id="genderDay" placeholder="Day (e.g., 2024-08-19)">
            <button onclick="submitGenderDistribution()">Get Gender Distribution</button>
            <pre id="genderResult"></pre>
            <canvas id="genderChart"></canvas>

            <!-- Ethnicity Distribution Form -->
            <h3>Ethnicity Distribution</h3>
            <input type="text" id="ethnicityYear" placeholder="Year (e.g., 2024)">
            <input type="text" id="ethnicityMonth" placeholder="Month (e.g., 8)">
            <input type="text" id="ethnicityDay" placeholder="Day (e.g., 2024-08-19)">
            <button onclick="submitEthnicityDistribution()">Get Ethnicity Distribution</button>
            <pre id="ethnicityResult"></pre>
            <canvas id="ethnicityChart"></canvas>

            <!-- Most Common Person -->
            <div class="result-container">
                <h3>Most Common Person</h3>
                <label for="commonPersonYear">Year:</label>
                <input type="text" id="commonPersonYear" placeholder="2024">
                <label for="commonPersonMonth">Month:</label>
                <input type="text" id="commonPersonMonth" placeholder="8">
                <label for="commonPersonDay">Day:</label>
                <input type="text" id="commonPersonDay" placeholder="2024-08-19">
                <button onclick="submitMostCommonPerson()">Submit</button>
                <div id="commonPersonResult" class="result-text"></div>
            </div>

            <!-- Crowd Density Form -->
            <div class="result-container">
                <h3>Crowd Density</h3>
                <label for="crowdDensityYear">Year:</label>
                <input type="text" id="crowdDensityYear" placeholder="2024">
                <label for="crowdDensityMonth">Month:</label>
                <input type="text" id="crowdDensityMonth" placeholder="8">
                <label for="crowdDensityDay">Day:</label>
                <input type="text" id="crowdDensityDay" placeholder="2024-08-19">
                <button onclick="submitCrowdDensity()">Submit</button>
                <div id="crowdDensityResult" class="result-text"></div>
            </div>
        </div>
    </div>

    <script src="scripts.js"></script>
</body>
</html>
